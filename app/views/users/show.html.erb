<h1><%= "#{@user.username}'s Goals" %></h1>

<h2>New Goal</h2>
<form action="<%= goals_url %>" method="post">
  <%= auth_token %>
  <label for="goal_title">Title</label>
  <input type="text" name="goal[title]" id="goal_title" value="<%= @goal.title %>">

  <label for="goal_notes">Notes</label>
  <textarea name="goal[notes]" rows="8" cols="40" id="goal_notes"><%= @goal.notes %></textarea>

  <label for="goal_due_date">Due Date</label>
  <input type="date" name="goal[due_date]" value="<%= @goal.due_date %>">

  <% ['public', 'private'].each do |option| %>
    <input type="radio" name="goal[private_or_public]" id="<%= option %>" value=<%= option %> <%= "selected" if @goal.private_or_public == option %>>
    <label for="goal_private_or_public"><%= option.capitalize %></label>
  <% end %>

  <button>Submit New Goal</button>
</form>

<h2>Complete Goals</h2>
<ul>
  <% @complete_goals.each do |goal| %>
    <li><%= goal.title %></li>
    <form action="<%= goal_url(goal) %>" method="post">
      <%= auth_token %>
      <input type="hidden" name="_method" value="Patch">
      <input type="checkbox" name="goal[completed]" value="false">

      <button>uncomplete goal</button>
    </form>
  <% end %>
</ul>

<h2>Incomplete Goals</h2>
<ul>
  <% @incomplete_goals.each do |goal| %>
    <li><%= goal.title %></li>
    <form action="<%= goal_url(goal) %>" method="post">
      <%= auth_token %>
      <input type="hidden" name="_method" value="Patch">
      <input type="checkbox" name="goal[completed]" value="true">

      <button>complete goal</button>
    </form>
  <% end %>
</ul>
